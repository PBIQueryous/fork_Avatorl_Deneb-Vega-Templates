{
  "$schema": "https://vega.github.io/schema/vega/v5.json",
  "usermeta": {
    "deneb": {
      "build": "1.5.1.0",
      "metaVersion": 1,
      "provider": "vega",
      "providerVersion": "5.23.0"
    },
    "interactivity": {
      "tooltip": true,
      "contextMenu": true,
      "selection": true,
      "highlight": true,
      "dataPointLimit": 50
    },
    "information": {
      "name": "Part-to-Whole - Pie Chart",
      "description": "To show part-to-whole relationship",
      "author": "Andrzej Leszkiewicz",
      "uuid": "09e049f0-78a0-4425-8e6d-b99ec3c01156",
      "generated": "2023-09-16T12:48:49.249Z",
      "previewImageBase64PNG": "data:image/png;base64,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"
    },
    "dataset": [
      {
        "key": "__0__",
        "name": "Category",
        "description": "Category name",
        "type": "text",
        "kind": "column"
      },
      {
        "key": "__1__",
        "name": "Value",
        "description": "Value",
        "type": "numeric",
        "kind": "column"
      }
    ],
    "Project": "Deneb Vega Templates by Andrzej Leszkiewicz",
    "Github": "https://github.com/avatorl/Deneb-Vega-Templates/",
    "Author": "Andrzej Leszkewicz",
    "License": "CC BY 4.0 (Share and Adapt with Attribution)",
    "Inspired By (chart types)": "FT Visual Vocabulary (https://ft.com/vocabulary)"
  },
  "config": {},
  "description": "Part-to-Whole - Pie Chart. To show part-to-whole relationship.",
  "padding": 15,
  "autosize": "fit",
  "background": "white",
  "signals": [
    {
      "name": "titleText",
      "value": "Pie Chart"
    },
    {
      "name": "subTitleText",
      "value": "To show part-to-whole relationship"
    },
    {
      "name": "titleColor",
      "value": "#333333"
    },
    {
      "name": "mainColor",
      "init": "pbiColor(0)"
    },
    {
      "name": "labelColor",
      "value": "#666666"
    },
    {
      "name": "labelFontSize",
      "value": 28
    },
    {
      "name": "titleFontSize",
      "value": 24
    },
    {
      "name": "titleOffset",
      "description": "Blank space between the subtitle and the chart, px",
      "value": 20
    },
    {
      "name": "subtitlePadding",
      "description": "Blank space between the title and the subtitle, px",
      "value": 10
    },
    {
      "name": "subtitleFontSize",
      "value": 16
    },
    {
      "name": "pieOuterRadius",
      "update": "width/2*0.8"
    },
    {
      "name": "pieInnerRadius",
      "update": "width/2*0.5"
    }
  ],
  "data": [
    {
      "name": "dataset",
      "transform": [
        {
          "type": "collect",
          "sort": {
            "field": "__1__",
            "order": "descending"
          }
        },
        {
          "type": "pie",
          "field": "__1__",
          "startAngle": {"signal": "0"},
          "endAngle": {
            "signal": "2*PI"
          },
          "sort": {"signal": "false"}
        }
      ]
    }
  ],
  "scales": [
    {
      "name": "scaleOpacity",
      "type": "band",
      "domain": {
        "data": "dataset",
        "field": "__0__"
      },
      "range": [1, 0.3]
    }
  ],
  "title": {
    "text": {"signal": "titleText"},
    "anchor": "start",
    "offset": {"signal": "titleOffset"},
    "color": {"signal": "titleColor"},
    "fontSize": {
      "signal": "titleFontSize"
    },
    "subtitle": {
      "signal": "subTitleText"
    },
    "subtitlePadding": {
      "signal": "subtitlePadding"
    },
    "subtitleFontSize": {
      "signal": "subtitleFontSize"
    }
  },
  "axes": [],
  "marks": [
    {
      "name": "arc-value",
      "type": "arc",
      "from": {"data": "dataset"},
      "encode": {
        "enter": {
          "fill": {
            "signal": "mainColor"
          },
          "x": {"signal": "width/2"},
          "y": {"signal": "height/2"}
        },
        "update": {
          "startAngle": {
            "field": "startAngle"
          },
          "endAngle": {
            "field": "endAngle"
          },
          "innerRadius": {
            "signal": "pieInnerRadius"
          },
          "outerRadius": {
            "signal": "pieOuterRadius"
          },
          "opacity": {
            "scale": "scaleOpacity",
            "field": "__0__"
          }
        }
      }
    },
    {
      "type": "text",
      "from": {"data": "arc-value"},
      "encode": {
        "enter": {
          "text": {
            "signal": "datum.datum['__0__']"
          },
          "fontSize": {
            "signal": "labelFontSize"
          },
          "fill": {
            "signal": "labelColor"
          },
          "x": {"field": "x"},
          "y": {"field": "y"},
          "theta": {
            "signal": "(datum.endAngle-datum.startAngle)/2+datum.startAngle"
          },
          "radius": {
            "signal": "(pieInnerRadius+pieOuterRadius)/2"
          },
          "align": {
            "signal": "'center'"
          }
        }
      }
    }
  ]
}
